{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/bovornpoljiturai/Desktop/Fluke_Numer_web/src/Calculate/Interpolation/Spline.js\";\nimport React, { Component } from 'react';\nimport { Card, Input, Button, Table } from 'antd';\nimport '../../screen.css';\nimport 'antd/dist/antd.css';\nconst InputStyle = {\n  background: \"#1890ff\",\n  color: \"white\",\n  fontWeight: \"bold\",\n  fontSize: \"24px\"\n};\nvar columns = [{\n  title: \"No.\",\n  dataIndex: \"no\",\n  key: \"no\"\n}, {\n  title: \"X\",\n  dataIndex: \"x\",\n  key: \"x\"\n}, {\n  title: \"Y\",\n  dataIndex: \"y\",\n  key: \"y\"\n}];\nvar x = [],\n    y = [],\n    tableTag = [],\n    answer;\n\nclass Spline extends Component {\n  constructor() {\n    super();\n    this.state = {\n      nPoints: 0,\n      X: 0,\n      showInputForm: true,\n      showTableInput: false,\n      showOutputCard: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  createTableInput(n) {\n    for (var i = 1; i <= n; i++) {\n      x.push( /*#__PURE__*/_jsxDEV(Input, {\n        style: {\n          width: \"100%\",\n          height: \"50%\",\n          backgroundColor: \"black\",\n          marginInlineEnd: \"5%\",\n          marginBlockEnd: \"5%\",\n          color: \"white\",\n          fontSize: \"18px\",\n          fontWeight: \"bold\"\n        },\n        id: \"x\" + i,\n        placeholder: \"x\" + i\n      }, \"x\" + i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 20\n      }, this));\n      y.push( /*#__PURE__*/_jsxDEV(Input, {\n        style: {\n          width: \"100%\",\n          height: \"50%\",\n          backgroundColor: \"black\",\n          marginInlineEnd: \"5%\",\n          marginBlockEnd: \"5%\",\n          color: \"white\",\n          fontSize: \"18px\",\n          fontWeight: \"bold\"\n        },\n        id: \"y\" + i,\n        placeholder: \"y\" + i\n      }, \"y\" + i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 20\n      }, this));\n      tableTag.push({\n        no: i,\n        x: x[i - 1],\n        y: y[i - 1]\n      });\n    }\n\n    this.setState({\n      showInputForm: false,\n      showTableInput: true\n    });\n  }\n\n  initialValue(X) {\n    x = [];\n    y = [];\n\n    for (var i = 0; i < this.state.nPoints; i++) {\n      x[i] = parseFloat(document.getElementById(\"x\" + (i + 1)).value);\n      y[i] = parseFloat(document.getElementById(\"y\" + (i + 1)).value);\n    }\n\n    answer = this.spline(X, x, y);\n  }\n\n  spline(x, xs, ys) {\n    var ks = xs.map(function () {\n      return 0;\n    });\n    ks = this.getNaturalKs(xs, ys, ks);\n    var i = 1;\n\n    while (xs[i] < x) i++;\n\n    var t = (x - xs[i - 1]) / (xs[i] - xs[i - 1]);\n    var a = ks[i - 1] * (xs[i] - xs[i - 1]) - (ys[i] - ys[i - 1]);\n    var b = -ks[i] * (xs[i] - xs[i - 1]) + (ys[i] - ys[i - 1]);\n    var q = (1 - t) * ys[i - 1] + t * ys[i] + t * (1 - t) * (a * (1 - t) + b * t);\n    console.log(q);\n    this.setState({\n      showOutputCard: true\n    });\n    return q;\n  }\n\n  getNaturalKs(xs, ys, ks) {\n    var n = xs.length - 1;\n    var A = this.zerosMat(n + 1, n + 2);\n\n    for (var i = 1; i < n; i++) // rows\n    {\n      A[i][i - 1] = 1 / (xs[i] - xs[i - 1]);\n      A[i][i] = 2 * (1 / (xs[i] - xs[i - 1]) + 1 / (xs[i + 1] - xs[i]));\n      A[i][i + 1] = 1 / (xs[i + 1] - xs[i]);\n      A[i][n + 1] = 3 * ((ys[i] - ys[i - 1]) / ((xs[i] - xs[i - 1]) * (xs[i] - xs[i - 1])) + (ys[i + 1] - ys[i]) / ((xs[i + 1] - xs[i]) * (xs[i + 1] - xs[i])));\n    }\n\n    A[0][0] = 2 / (xs[1] - xs[0]);\n    A[0][1] = 1 / (xs[1] - xs[0]);\n    A[0][n + 1] = 3 * (ys[1] - ys[0]) / ((xs[1] - xs[0]) * (xs[1] - xs[0]));\n    A[n][n - 1] = 1 / (xs[n] - xs[n - 1]);\n    A[n][n] = 2 / (xs[n] - xs[n - 1]);\n    A[n][n + 1] = 3 * (ys[n] - ys[n - 1]) / ((xs[n] - xs[n - 1]) * (xs[n] - xs[n - 1]));\n    return this.solve(A, ks);\n  }\n\n  solve(A, ks) {\n    var m = A.length;\n\n    for (var k = 0; k < m; k++) // column\n    {\n      // pivot for column\n      var i_max = 0;\n      var vali = Number.NEGATIVE_INFINITY;\n\n      for (var i = k; i < m; i++) if (A[i][k] > vali) {\n        i_max = i;\n        vali = A[i][k];\n      }\n\n      this.swapRows(A, k, i_max); // for all rows below pivot\n\n      for (i = k + 1; i < m; i++) {\n        for (var j = k + 1; j < m + 1; j++) A[i][j] = A[i][j] - A[k][j] * (A[i][k] / A[k][k]);\n\n        A[i][k] = 0;\n      }\n    }\n\n    for (i = m - 1; i >= 0; i--) // rows = columns\n    {\n      var v = A[i][m] / A[i][i];\n      ks[i] = v;\n\n      for (j = i - 1; j >= 0; j--) // rows\n      {\n        A[j][m] -= A[j][i] * v;\n        A[j][i] = 0;\n      }\n    }\n\n    console.log(A);\n    return ks;\n  }\n\n  zerosMat(r, c) {\n    var A = [];\n\n    for (var i = 0; i < r; i++) {\n      A.push([]);\n\n      for (var j = 0; j < c; j++) A[i].push(0);\n    }\n\n    return A;\n  }\n\n  swapRows(m, k, l) {\n    var p = m[k];\n    m[k] = m[l];\n    m[l] = p;\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: \"#FFFF\",\n        padding: \"30px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: \"black\",\n          fontWeight: \"bold\"\n        },\n        children: \"Spline Interpolation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            bordered: true,\n            style: {\n              background: \"gray\",\n              borderRadius: \"15px\",\n              color: \"#FFFFFFFF\"\n            },\n            onChange: this.handleChange,\n            children: [this.state.showTableInput && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Table, {\n                columns: columns,\n                dataSource: tableTag,\n                pagination: false,\n                bordered: true,\n                bodyStyle: {\n                  fontWeight: \"bold\",\n                  fontSize: \"18px\",\n                  color: \"white\",\n                  overflowY: \"scroll\",\n                  minWidth: 120,\n                  maxHeight: 300\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                id: \"matrix_button\",\n                style: {\n                  background: \"blue\",\n                  color: \"white\",\n                  fontSize: \"20px\"\n                },\n                onClick: () => this.initialValue(parseFloat(this.state.X)),\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 33\n            }, this), this.state.showInputForm && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Number of points(n)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                size: \"large\",\n                name: \"nPoints\",\n                style: InputStyle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 65\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                size: \"large\",\n                name: \"X\",\n                style: InputStyle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 47\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                id: \"dimention_button\",\n                onClick: () => {\n                  this.createTableInput(parseInt(this.state.nPoints));\n                },\n                style: {\n                  background: \"#4caf50\",\n                  color: \"white\"\n                },\n                children: [\"Submit\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 47\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col\",\n          children: this.state.showOutputCard && /*#__PURE__*/_jsxDEV(Card, {\n            title: \"Output\",\n            bordered: true,\n            style: {\n              background: \"#2196f3\",\n              color: \"#FFFFFFFF\",\n              float: \"inline-start\"\n            },\n            id: \"outputCard\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: \"24px\",\n                fontWeight: \"bold\"\n              },\n              children: [\"X = \", answer]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Spline;","map":{"version":3,"sources":["/Users/bovornpoljiturai/Desktop/Fluke_Numer_web/src/Calculate/Interpolation/Spline.js"],"names":["React","Component","Card","Input","Button","Table","InputStyle","background","color","fontWeight","fontSize","columns","title","dataIndex","key","x","y","tableTag","answer","Spline","constructor","state","nPoints","X","showInputForm","showTableInput","showOutputCard","handleChange","bind","createTableInput","n","i","push","width","height","backgroundColor","marginInlineEnd","marginBlockEnd","no","setState","initialValue","parseFloat","document","getElementById","value","spline","xs","ys","ks","map","getNaturalKs","t","a","b","q","console","log","length","A","zerosMat","solve","m","k","i_max","vali","Number","NEGATIVE_INFINITY","swapRows","j","v","r","c","l","p","event","target","name","render","padding","borderRadius","overflowY","minWidth","maxHeight","parseInt","float"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Card, Input, Button, Table } from 'antd';\nimport '../../screen.css';\nimport 'antd/dist/antd.css';\nconst InputStyle = {\n    background: \"#1890ff\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    fontSize: \"24px\"\n\n};\nvar columns = [\n    {\n        title: \"No.\",\n        dataIndex: \"no\",\n        key: \"no\"\n    },\n    {\n        title: \"X\",\n        dataIndex: \"x\",\n        key: \"x\"\n    },\n    {\n        title: \"Y\",\n        dataIndex: \"y\",\n        key: \"y\"\n    }\n];\nvar x = [], y = [], tableTag = [], answer\n\nclass Spline extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            nPoints: 0,\n            X: 0,\n            showInputForm: true,\n            showTableInput: false,\n            showOutputCard: false\n        }\n        this.handleChange = this.handleChange.bind(this);\n\n    }\n\n\n    createTableInput(n) {\n        for (var i = 1; i <= n; i++) {\n            x.push(<Input style={{\n                width: \"100%\",\n                height: \"50%\",\n                backgroundColor: \"black\",\n                marginInlineEnd: \"5%\",\n                marginBlockEnd: \"5%\",\n                color: \"white\",\n                fontSize: \"18px\",\n                fontWeight: \"bold\"\n            }}\n                id={\"x\" + i} key={\"x\" + i} placeholder={\"x\" + i} />);\n            y.push(<Input style={{\n                width: \"100%\",\n                height: \"50%\",\n                backgroundColor: \"black\",\n                marginInlineEnd: \"5%\",\n                marginBlockEnd: \"5%\",\n                color: \"white\",\n                fontSize: \"18px\",\n                fontWeight: \"bold\"\n            }}\n                id={\"y\" + i} key={\"y\" + i} placeholder={\"y\" + i} />);\n            tableTag.push({\n                no: i,\n                x: x[i - 1],\n                y: y[i - 1]\n            });\n        }\n\n\n        this.setState({\n            showInputForm: false,\n            showTableInput: true,\n        })\n    }\n    initialValue(X) {\n        x = []\n        y = []\n        for (var i = 0; i < this.state.nPoints; i++) {\n            x[i] = parseFloat(document.getElementById(\"x\" + (i + 1)).value);\n            y[i] = parseFloat(document.getElementById(\"y\" + (i + 1)).value);\n        }\n        answer = this.spline(X, x, y)\n    }\n    spline(x, xs, ys) {\n        var ks = xs.map(function () { return 0 })\n        ks = this.getNaturalKs(xs, ys, ks)\n        var i = 1;\n        while (xs[i] < x) i++;\n        var t = (x - xs[i - 1]) / (xs[i] - xs[i - 1]);\n        var a = ks[i - 1] * (xs[i] - xs[i - 1]) - (ys[i] - ys[i - 1]);\n        var b = -ks[i] * (xs[i] - xs[i - 1]) + (ys[i] - ys[i - 1]);\n        var q = (1 - t) * ys[i - 1] + t * ys[i] + t * (1 - t) * (a * (1 - t) + b * t);\n        console.log(q)\n        this.setState({\n            showOutputCard: true\n        })\n\n        return q;\n    }\n\n    getNaturalKs(xs, ys, ks) {\n        var n = xs.length - 1;\n        var A = this.zerosMat(n + 1, n + 2);\n\n        for (var i = 1; i < n; i++)  // rows\n        {\n            A[i][i - 1] = 1 / (xs[i] - xs[i - 1]);\n            A[i][i] = 2 * (1 / (xs[i] - xs[i - 1]) + 1 / (xs[i + 1] - xs[i]));\n            A[i][i + 1] = 1 / (xs[i + 1] - xs[i]);\n            A[i][n + 1] = 3 * ((ys[i] - ys[i - 1]) / ((xs[i] - xs[i - 1]) * (xs[i] - xs[i - 1])) + (ys[i + 1] - ys[i]) / ((xs[i + 1] - xs[i]) * (xs[i + 1] - xs[i])));\n        }\n\n        A[0][0] = 2 / (xs[1] - xs[0]);\n        A[0][1] = 1 / (xs[1] - xs[0]);\n        A[0][n + 1] = 3 * (ys[1] - ys[0]) / ((xs[1] - xs[0]) * (xs[1] - xs[0]));\n\n        A[n][n - 1] = 1 / (xs[n] - xs[n - 1]);\n        A[n][n] = 2 / (xs[n] - xs[n - 1]);\n        A[n][n + 1] = 3 * (ys[n] - ys[n - 1]) / ((xs[n] - xs[n - 1]) * (xs[n] - xs[n - 1]));\n\n        return this.solve(A, ks);\n    }\n\n    solve(A, ks) {\n        var m = A.length;\n        for (var k = 0; k < m; k++)  // column\n        {\n            // pivot for column\n            var i_max = 0; var vali = Number.NEGATIVE_INFINITY;\n            for (var i = k; i < m; i++) if (A[i][k] > vali) { i_max = i; vali = A[i][k]; }\n            this.swapRows(A, k, i_max);\n\n            // for all rows below pivot\n            for (i = k + 1; i < m; i++) {\n                for (var j = k + 1; j < m + 1; j++)\n                    A[i][j] = A[i][j] - A[k][j] * (A[i][k] / A[k][k]);\n                A[i][k] = 0;\n            }\n        }\n        for (i = m - 1; i >= 0; i--) // rows = columns\n        {\n            var v = A[i][m] / A[i][i];\n            ks[i] = v;\n            for (j = i - 1; j >= 0; j--) // rows\n            {\n                A[j][m] -= A[j][i] * v;\n                A[j][i] = 0;\n            }\n        }\n        console.log(A)\n        return ks;\n    }\n\n    zerosMat(r, c) {\n        var A = [];\n        for (var i = 0; i < r; i++) {\n            A.push([]);\n            for (var j = 0; j < c; j++) A[i].push(0);\n        }\n        return A;\n    }\n\n    swapRows(m, k, l) {\n        var p = m[k]; m[k] = m[l]; m[l] = p;\n    }\n    handleChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    }\n    render() {\n        return (\n            <div style={{ background: \"#FFFF\", padding: \"30px\" }}>\n                <h2 style={{ color: \"black\", fontWeight: \"bold\" }}>Spline Interpolation</h2>\n                <div className=\"row\">\n                    <div className=\"col\">\n                        <Card\n                            bordered={true}\n                            style={{ background: \"gray\", borderRadius:\"15px\", color: \"#FFFFFFFF\" }}\n                            onChange={this.handleChange}\n                        >\n                            {this.state.showTableInput &&\n                                <div>\n                                    <Table columns={columns} dataSource={tableTag} pagination={false} bordered={true} bodyStyle={{ fontWeight: \"bold\", fontSize: \"18px\", color: \"white\", overflowY: \"scroll\", minWidth: 120, maxHeight: 300 }}>\n\n                                    </Table>\n                                    <Button\n                                        id=\"matrix_button\"\n                                        style={{ background: \"blue\", color: \"white\", fontSize: \"20px\" }}\n                                        onClick={() => this.initialValue(parseFloat(this.state.X))}>\n                                        Submit\n                                </Button>\n                                </div>}\n\n                            {this.state.showInputForm &&\n                                <div>\n                                    <h2>Number of points(n)</h2><Input size=\"large\" name=\"nPoints\" style={InputStyle}></Input>\n                                    <h2>X</h2><Input size=\"large\" name=\"X\" style={InputStyle}></Input>\n                                    <Button id=\"dimention_button\" onClick={\n                                        () => { this.createTableInput(parseInt(this.state.nPoints)) }\n                                    }\n                                        style={{ background: \"#4caf50\", color: \"white\" }}>\n                                        Submit<br></br>\n                                    </Button>\n                                </div>\n                            }\n\n                        </Card>\n                    </div>\n                    <div className=\"col\">\n                        {this.state.showOutputCard &&\n                            <Card\n                                title={\"Output\"}\n                                bordered={true}\n                                style={{ background: \"#2196f3\", color: \"#FFFFFFFF\", float: \"inline-start\" }}\n                                id=\"outputCard\"\n                            >\n                                <p style={{ fontSize: \"24px\", fontWeight: \"bold\" }}>X = {answer}</p>\n                            </Card>\n                        }\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\nexport default Spline;\n\n\n\n"]},"metadata":{},"sourceType":"module"}